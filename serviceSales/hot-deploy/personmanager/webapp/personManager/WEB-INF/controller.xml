<?xml version="1.0" encoding="UTF-8"?>
<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://ofbiz.apache.org/Site-Conf" xsi:schemaLocation="http://ofbiz.apache.org/Site-Conf http://ofbiz.apache.org/dtds/site-conf.xsd">
    <!-- The controller elements that are common to all OFBiz components
         can be found in the following xml file. A component can override the
         elements found in the common-controller.xml file. -->
    <include location="component://common/webcommon/WEB-INF/common-controller.xml"/>

    <description>PersonManager Component Site Configuration File</description>

    <!-- Every Request Do Check -->
    <preprocessor>
        <event name="checkTarjetaLogin" type="java"
               path="main.java.com.banfftech.platformmanager.common.PlatformLoginWorker"
               invoke="checkTarjetaLogin"/>
    </preprocessor>

    <!-- Events to run on every request before security (chains exempt) -->
    <!--
    <preprocessor>
    </preprocessor>
    -->
    <!-- Events to run on every request after all other processing (chains exempt) -->
    <!--
    <postprocessor>
        <event name="test" type="java" path="org.apache.ofbiz.webapp.event.TestEvent" invoke="test"/>
    </postprocessor>
    -->

    <!-- Request Mappings -->
    <request-map uri="main"><security https="true" auth="true"/><response name="success" type="view" value="main"/></request-map>

    <!-- Query My Resource -->
    <request-map uri="queryMyResource">
        <security https="false" auth="false"/>
        <event type="service" invoke="queryMyResource"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>

    <!-- Query Dimension Resource -->
    <request-map uri="queryDimensionResource">
        <security https="false" auth="false"/>
        <event type="service" invoke="queryDimensionResource"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>


    <!-- Query MyResource Order -->
    <request-map uri="queryMyResourceOrder">
        <security https="false" auth="false"/>
        <event type="service" invoke="queryMyResourceOrder"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>

    <!-- Query My Relation -->
    <request-map uri="queryMyRelationShip">
        <security https="false" auth="false"/>
        <event type="service" invoke="queryMyRelationShip"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>


    <!-- Query Resource Detail-->
    <request-map uri="queryResourceDetail">
        <security https="false" auth="false"/>
        <event type="service" invoke="queryResourceDetail"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>

    <!-- AJAX QUERY AUTO COMPLETE -->
    <request-map uri="ajaxQueryResource">
        <security https="false" auth="false"/>
        <event type="java"
               path="main.java.com.banfftech.personmanager.PersonManagerQueryServices"
               invoke="ajaxQueryResource"></event>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>

    <!-- -->
    <request-map uri="queryMoreResource">
        <security https="false" auth="false"/>
        <event type="service" invoke="queryMoreResource"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>


    <!--&lt;!&ndash; update PersonInfo &ndash;&gt;-->
    <!--<request-map uri="updatePersonInfo">-->
        <!--<security https="false" auth="false"/>-->
        <!--<event type="service" invoke="updatePersonInfo"/>-->
        <!--<response name="success" type="request" value="result_json"/>-->
        <!--<response name="error" type="request" value="result_json"/>-->
    <!--</request-map>-->


    <!-- uploadHeadPortrait -->
    <request-map uri="updatePersonInfo">
        <security https="false" auth="false"/>
        <event type="java"
               path="main.java.com.banfftech.personmanager.PersonManagerServices"
               invoke="updatePersonInfo"></event>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>


    <!-- Matching Contacts -->
    <request-map uri="matchingContact">
        <security https="false" auth="false"/>
        <event type="service" invoke="matchingContact"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>

    <!-- sales Discontinuation -->
    <request-map uri="salesDiscontinuation">
        <security https="false" auth="false"/>
        <event type="service" invoke="salesDiscontinuation"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>
    <!-- queryPersonInfo-->
    <request-map uri="queryPersonInfo">
        <security https="false" auth="false"/>
        <event type="service" invoke="queryPersonInfo"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>



    <!-- Release Resource -->
    <request-map uri="releaseResource">
        <security https="false" auth="false"/>
        <event type="java"
               path="main.java.com.banfftech.personmanager.PersonManagerServices"
               invoke="releaseResource"></event>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>


    <!--  Create OrderHeader & OrderItem -->
    <request-map uri="placeResourceOrder">
        <security https="false" auth="false"/>
        <event type="service" invoke="placeResourceOrder"/>
        <response name="success" type="request" value="result_json"/>
        <response name="error" type="request" value="result_json"/>
    </request-map>




    <!-- View Mappings -->
    <view-map name="main" type="screen" page="component://personmanager/widget/PersonManagerScreens.xml#main"/>
</site-conf>