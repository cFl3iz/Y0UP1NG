<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">
    <!-- ========================================================= -->
    <!-- ======================== Defaults ======================= -->
    <!-- ========================================================= -->
    <title>Entity of PlatformManager Component</title>
    <description>PlatformModel</description>
    <copyright>CloudLake</copyright>
    <version>1.0</version>


    <!--<entity entity-name="EmpPromo" package-name="org.ofbiz.cloudLake" title="EmpPromo">-->
        <!--<field name="promoCodeId" type="value"/>-->
        <!--<field name="partyId" type="id-ne"/>-->
        <!--<field name="statusId" type="id-ne"/>-->
        <!--<field name="description" type="value"/>-->

        <!--<relation type="one" fk-name="EPC_2STATUS_FK" rel-entity-name="StatusItem">-->
            <!--<key-map field-name="statusId"/>-->
        <!--</relation>-->
        <!--&lt;!&ndash;<relation type="one" fk-name="EPC_PROMO_FK" rel-entity-name="ProductPromoCode">&ndash;&gt;-->
        <!--&lt;!&ndash;<key-map field-name="promoCodeId" rel-field-name="productPromoCodeId"/>&ndash;&gt;-->
        <!--&lt;!&ndash;</relation>&ndash;&gt;-->
        <!--<prim-key field="promoCodeId"/>-->
    <!--</entity>-->

    <!--<entity entity-name="EmpPromoCode" package-name="org.ofbiz.cloudLake" title="EmpPromoCode">-->
        <!--<field name="promoCodeId" type="id-vlong-ne"/>-->
        <!--<field name="partyId" type="id-ne"/>-->
        <!--<field name="statusId" type="id-ne"/>-->
        <!--<field name="description" type="value"/>-->

        <!--<relation type="one" fk-name="EPC_STATUS_FK" rel-entity-name="StatusItem">-->
            <!--<key-map field-name="statusId"/>-->
        <!--</relation>-->
        <!--&lt;!&ndash;<relation type="one" fk-name="EPC_PROMO_FK" rel-entity-name="ProductPromoCode">&ndash;&gt;-->
            <!--&lt;!&ndash;<key-map field-name="promoCodeId" rel-field-name="productPromoCodeId"/>&ndash;&gt;-->
        <!--&lt;!&ndash;</relation>&ndash;&gt;-->
        <!--<prim-key field="promoCodeId"/>-->
    <!--</entity>-->

    <entity entity-name="EmpPromoCodeRelation" package-name="org.ofbiz.cloudLake.promo" title="EmpPromoCodeRelation">
        <field name="promoCodeId" type="id-vlong-ne"/>
        <field name="partyIdFrom" type="id-ne"/>
        <field name="partyIdTo" type="id-ne"/>

        <field name="fromDate" type="date-time"></field>

        <prim-key field="promoCodeId"/>
        <prim-key field="partyIdFrom"/>
        <prim-key field="partyIdTo"/>
        <prim-key field="fromDate"/>
    </entity>



    <entity entity-name="EmpPromoHistory" package-name="org.ofbiz.cloudLake" title="EmpPromoHistory">

        <field name="salesPartyId" type="id-ne"/>
        <field name="fromPartyId" type="id-ne"/>
        <field name="custPartyId" type="id-ne"/>
        <field name="promoCodeId" type="value"/>

        <field name="fromDate" type="date-time"></field>
        <prim-key field="salesPartyId"/>
        <prim-key field="fromPartyId"/>
        <prim-key field="custPartyId"/>
        <prim-key field="fromDate"/>
    </entity>


    <entity entity-name="ZuczugEmp" package-name="org.ofbiz.cloudLake" title="ZuczugEmp">
        <field name="tel" type="id-vlong-ne"/>
        <field name="roleTypeId" type="value"/>
        <field name="name" type="value"/>
        <prim-key field="tel"/>
    </entity>



    <!-- 当前店铺线上产品分类目录 -->
    <entity entity-name="ProductStoreOnlineCategory" package-name="org.ofbiz.cloudLake.ProductStore" title="ProductStoreOnlineCategory">
        <field name="productStoreId" type="id-ne"/>
        <field name="productCategoryId" type="value"/>
        <prim-key field="productStoreId"/>
    </entity>


    <entity entity-name="YpForwardChainFactTemp" package-name="org.ofbiz.cloudLake.temp" title="YpForwardChainFacTemp">
        <field name="fcId" type="id-ne"/>
        <!-- 链条头 -->
        <field name="basePartyId" type="value"/>
        <field name="partyIdFrom" type="value"/>
        <field name="partyIdTo" type="value"/>
        <field name="workEffortId" type="value"/>
        <field name="productId" type="value"/>
        <field name="createDate" type="date-time" />
        <prim-key field="fcId"/>
    </entity>



    <view-entity entity-name="TelecomNumberAndPartyAndRelationshipView" package-name="">
        <member-entity entity-alias="TNAPV" entity-name="TelecomNumberAndPartyView"/>
        <member-entity entity-alias="PR" entity-name="PartyRelationship"/>

        <alias-all entity-alias="TNAPV" />
        <alias-all entity-alias="PR" />

        <view-link entity-alias="TNAPV" rel-entity-alias="PR">
            <key-map field-name="partyId" rel-field-name="partyIdTo" />
        </view-link>

    </view-entity>



    <!-- 产品店铺的促销规则视图 -->
    <view-entity entity-name="StorePromoAndAction" package-name="">
        <member-entity entity-alias="PSP" entity-name="ProductStorePromoAndAppl"/>
        <member-entity entity-alias="PSA" entity-name="ProductPromoAction"/>

        <alias-all entity-alias="PSP" />
        <alias-all entity-alias="PSA" />

        <view-link entity-alias="PSP" rel-entity-alias="PSA">
            <key-map field-name="productPromoId" rel-field-name="productPromoId"/>
        </view-link>

    </view-entity>


    <view-entity entity-name="ProductAndRole" package-name="">
        <member-entity entity-alias="P" entity-name="Product"/>
        <member-entity entity-alias="PR" entity-name="ProductRole"/>

        <alias-all entity-alias="P" />
        <alias-all entity-alias="PR" />

        <view-link entity-alias="P" rel-entity-alias="PR">
            <key-map field-name="productId" rel-field-name="productId"/>
        </view-link>

    </view-entity>

    <!-- 某目录中的在售变形产品 -->
    <view-entity entity-name="ProductCategoryVariantMember" package-name="org.ofbiz.product.product">
        <member-entity entity-alias="ProductCategoryMember" entity-name="ProductCategoryMember"/>
        <member-entity entity-alias="Product" entity-name="Product"/>
        <alias-all entity-alias="ProductCategoryMember"/>
        <alias-all entity-alias="Product"/>


        <view-link entity-alias="Product" rel-entity-alias="ProductCategoryMember">
            <key-map field-name="productId" rel-field-name="productId"/>
        </view-link>

        <entity-condition>
            <condition-expr field-name="isVariant" entity-alias="Product" operator="equals" value="Y"/>
        </entity-condition>
    </view-entity>


    <view-entity entity-name="ProductContentAndElectronicText" package-name="org.ofbiz.product.product">
        <member-entity entity-alias="PC" entity-name="ProductContent"/>
        <member-entity entity-alias="CON" entity-name="Content"/>
        <member-entity entity-alias="ET" entity-name="ElectronicText"/>
        <alias-all entity-alias="PC">
            <exclude field="contentId"/>
        </alias-all>
        <alias-all entity-alias="CON">
            <exclude field="dataResourceId"/>
        </alias-all>
        <alias-all entity-alias="ET"/>

        <view-link entity-alias="PC" rel-entity-alias="CON">
            <key-map field-name="contentId" rel-field-name="contentId"/>
        </view-link>
        <view-link entity-alias="CON" rel-entity-alias="ET">
            <key-map field-name="dataResourceId" rel-field-name="dataResourceId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="ProductCategoryGroupSeriesView"
                 package-name="org.ofbiz.product.catalog"
                 title="Product Group View">
        <member-entity entity-alias="PC" entity-name="ProductCategory"></member-entity>
        <member-entity entity-alias="PCR" entity-name="ProductCategoryRollup"></member-entity>
        <member-entity entity-alias="PCSS" entity-name="ProductCategory"></member-entity>
        <alias name="groupId" entity-alias="PC" field="productCategoryId"></alias>
        <alias name="groupName" entity-alias="PC" field="categoryName"></alias>
        <alias name="seriesId" entity-alias="PCSS" field="productCategoryId"></alias>
        <alias name="seriesName" entity-alias="PCSS" field="categoryName"></alias>
        <view-link entity-alias="PC" rel-entity-alias="PCR">
            <key-map field-name="productCategoryId"/>
        </view-link>
        <view-link entity-alias="PCR" rel-entity-alias="PCSS">
            <key-map field-name="parentProductCategoryId" rel-field-name="productCategoryId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
                <condition-expr entity-alias="PCSS" field-name="productCategoryTypeId" operator="equals" value="SERIES"/>
                <condition-expr entity-alias="PC" field-name="productCategoryTypeId" operator="equals" value="GROUPNAME"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="ProductGroupCategorySeasonView"
                 package-name="org.ofbiz.product.catalog"
                 title="Product Group View">
        <member-entity entity-alias="PC" entity-name="ProductCategory"></member-entity>
        <member-entity entity-alias="PCR" entity-name="ProductCategoryRollup"></member-entity>
        <member-entity entity-alias="PCSN" entity-name="ProductCategory"></member-entity>
        <alias name="groupId" entity-alias="PC" field="productCategoryId"></alias>
        <alias name="groupName" entity-alias="PC" field="categoryName"></alias>
        <alias name="seasonId" entity-alias="PCSN" field="productCategoryId"></alias>
        <alias name="seasonName" entity-alias="PCSN" field="categoryName"></alias>

        <view-link entity-alias="PC" rel-entity-alias="PCR">
            <key-map field-name="productCategoryId" rel-field-name="productCategoryId"/>
        </view-link>
        <view-link entity-alias="PCR" rel-entity-alias="PCSN">
            <key-map field-name="parentProductCategoryId" rel-field-name="productCategoryId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
                <condition-expr entity-alias="PCSN" field-name="productCategoryTypeId" operator="equals" value="ZUCZUG_SEASON"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="ProductCategoryGroupSubSeriesView"
                 package-name="org.ofbiz.product.catalog"
                 title="Product Group View">
        <member-entity entity-alias="PC" entity-name="ProductCategory"></member-entity>
        <member-entity entity-alias="PCR" entity-name="ProductCategoryRollup"></member-entity>
        <member-entity entity-alias="PCSS" entity-name="ProductCategory"></member-entity>
        <alias name="groupId" entity-alias="PC" field="productCategoryId"></alias>
        <alias name="groupName" entity-alias="PC" field="categoryName"></alias>
        <alias name="subSeriesId" entity-alias="PCSS" field="productCategoryId"></alias>
        <alias name="subSeriesName" entity-alias="PCSS" field="categoryName"></alias>
        <view-link entity-alias="PC" rel-entity-alias="PCR">
            <key-map field-name="productCategoryId"/>
        </view-link>
        <view-link entity-alias="PCR" rel-entity-alias="PCSS">
            <key-map field-name="parentProductCategoryId" rel-field-name="productCategoryId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
                <condition-expr entity-alias="PCSS" field-name="productCategoryTypeId" operator="equals" value="SUBSERIES"/>
            </condition-list>
        </entity-condition>
    </view-entity>
    <view-entity entity-name="ProductCategoryGroupView"
                 package-name="org.ofbiz.product.catalog"
                 title="Product Category Group View">
        <member-entity entity-alias="PCSS" entity-name="ProductCategoryGroupSeriesView"></member-entity>
        <member-entity entity-alias="PCSN" entity-name="ProductGroupCategorySeasonView"></member-entity>
        <member-entity entity-alias="PGSSV" entity-name="ProductCategoryGroupSubSeriesView"></member-entity>
        <alias name="groupId" entity-alias="PCSS"></alias>
        <alias name="groupName" entity-alias="PCSS"></alias>
        <alias name="seriesId" entity-alias="PCSS"></alias>
        <alias name="seriesName" entity-alias="PCSS"></alias>
        <alias name="seasonId" entity-alias="PCSN"></alias>
        <alias name="seasonName" entity-alias="PCSN"></alias>
        <alias name="subSeriesId" entity-alias="PGSSV"></alias>
        <alias name="subSeriesName" entity-alias="PGSSV"></alias>
        <view-link entity-alias="PCSS" rel-entity-alias="PCSN">
            <key-map field-name="groupId"/>
        </view-link>
        <view-link entity-alias="PCSN" rel-entity-alias="PGSSV" rel-optional="true">
            <key-map field-name="groupId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="AllProductGroupMember" package-name="">
        <description>所有组别的分类的商品，提高view查询速度</description>
        <member-entity entity-alias="PC" entity-name="ProductCategory"></member-entity>
        <member-entity entity-alias="PCM" entity-name="ProductCategoryMember"></member-entity>
        <alias name="productCategoryId" entity-alias="PC"></alias>
        <alias name="categoryName" entity-alias="PC"></alias>
        <alias name="productId" entity-alias="PCM"></alias>
        <view-link entity-alias="PC" rel-entity-alias="PCM">
            <key-map field-name="productCategoryId"/>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="PC" field-name="productCategoryTypeId" operator="equals" value="GROUPNAME"/>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="AllProductWaveCategory" package-name="">
        <description>所有波段的分类的商品，提高view查询速度</description>
        <member-entity entity-alias="PC" entity-name="ProductCategory"></member-entity>
        <member-entity entity-alias="PCM" entity-name="ProductCategoryMember"></member-entity>
        <alias name="productCategoryId" entity-alias="PC"></alias>
        <alias name="categoryName" entity-alias="PC"></alias>
        <alias name="productId" entity-alias="PCM"></alias>
        <view-link entity-alias="PC" rel-entity-alias="PCM">
            <key-map field-name="productCategoryId"/>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="PC" field-name="productCategoryTypeId" operator="equals" value="WAVE"/>
        </entity-condition>
    </view-entity>


    <extend-entity entity-name="ProductCategoryContent">
        <field name="sequenceNum" type="numeric"></field>
    </extend-entity>



    <extend-entity entity-name="PartyIdentification">
        <field name="appId" type="value"></field>
    </extend-entity>


    <view-entity entity-name="ProductAssocViewWithVariant"
                 package-name="org.ofbiz.product.catalog"
                 title="Product Assoc BOM Feature View">
        <member-entity entity-alias="PRD" entity-name="Product"></member-entity>
        <member-entity entity-alias="PA" entity-name="ProductAssoc"></member-entity>
        <alias-all entity-alias="PRD"></alias-all>

        <alias entity-alias="PA" name="productId"></alias>
        <alias entity-alias="PA" name="productIdTo"></alias>
        <alias entity-alias="PA" name="quantity"></alias>
        <alias entity-alias="PA" name="fromDate"></alias>
        <alias entity-alias="PA" name="thruDate"></alias>
        <alias entity-alias="PA" name="productAssocTypeId"></alias>
        <view-link entity-alias="PRD" rel-entity-alias="PA">
            <key-map field-name="productId" rel-field-name="productIdTo"/>
        </view-link>

        <entity-condition filter-by-date="true">
            <!-- <condition-list combine="and"> -->
            <condition-expr entity-alias="PA" field-name="productAssocTypeId" operator="equals" value="PRODUCT_VARIANT"/>
            <!-- <condition-expr entity-alias="PRD" field-name="productTypeId" operator="equals" value="RAW_MATERIAL"/> -->
            <!-- </condition-list> -->
        </entity-condition>
    </view-entity>

    <view-entity entity-name="ProductRealView"
                 package-name="org.ofbiz.product.catalog"
                 title="Product Design View">
        <description>商品管理正式商品列表</description>
        <member-entity entity-alias="P" entity-name="Product"></member-entity>
        <member-entity entity-alias="PCG" entity-name="ProductCategoryGroupView"></member-entity>
        <member-entity entity-alias="PCM" entity-name="AllProductGroupMember"></member-entity>
        <member-entity entity-alias="PCM1" entity-name="AllProductWaveCategory"></member-entity>
        <alias-all entity-alias="PCG">
            <exclude field="productId"/>
        </alias-all>
        <alias name="productId" entity-alias="P"></alias>
        <alias name="internalName" entity-alias="P"></alias>
        <alias name="productName" entity-alias="P"></alias>
        <alias name="quantityUomId" entity-alias="P"></alias>
        <alias name="isVirtual" entity-alias="P"></alias>
        <alias name="isVariant" entity-alias="P"></alias>
        <alias name="releaseDate" entity-alias="P"></alias>
        <alias name="waveId" entity-alias="PCM1" field="productCategoryId"></alias>
        <alias name="waveName" entity-alias="PCM1" field="categoryName"></alias>
        <view-link entity-alias="P" rel-entity-alias="PCM" rel-optional="true">
            <key-map field-name="productId" rel-field-name="productId"/>
        </view-link>
        <view-link entity-alias="PCM" rel-entity-alias="PCG" rel-optional="true">
            <key-map field-name="productCategoryId" rel-field-name="groupId"/>
        </view-link>
        <view-link entity-alias="P" rel-entity-alias="PCM1" rel-optional="true">
            <key-map field-name="productId" rel-field-name="productId"/>
            <!-- <entity-condition>
                <condition-expr entity-alias="PCM1" field-name="productCategoryTypeId" operator="equals" value="WAVE"/>
            </entity-condition> -->
        </view-link>
        <entity-condition>
            <condition-list combine="and">
                <condition-expr entity-alias="P" field-name="productTypeId" operator="equals" value="FINISHED_GOOD"/>
            </condition-list>
        </entity-condition>
    </view-entity>


    <!-- 用于查询某个product下有多少X类型的特征，比如某个product下有多个颜色或者多少尺码 -->
    <view-entity entity-name="ProductDesignFeatureWithType"
                 package-name="org.ofbiz.product.catalog"
                 title="Product Design Feature With Type">
        <member-entity entity-alias="MPFA" entity-name="ProductFeatureAppl"></member-entity>
        <member-entity entity-alias="PF" entity-name="ProductFeature"></member-entity>
        <alias name="productFeatureId" entity-alias="PF"></alias>
        <alias name="productFeatureTypeId" entity-alias="PF"></alias>
        <alias name="description" entity-alias="PF"></alias>
        <alias name="idCode" entity-alias="PF"></alias>
        <alias name="productId" entity-alias="MPFA"></alias>
        <alias name="fromDate" entity-alias="MPFA"></alias>
        <alias name="thruDate" entity-alias="MPFA"></alias>
        <view-link entity-alias="PF" rel-entity-alias="MPFA">
            <key-map field-name="productFeatureId"/>
        </view-link>
    </view-entity>
    <!-- 动态记录 浏览量和 转发数量 -->
    <extend-entity entity-name="WorkEffort">
        <field name="shareCount" type="value"><description>转发量</description></field>
        <field name="addressCount" type="value"><description>浏览量</description></field>
    </extend-entity>

    <view-entity entity-name="FacilityPartyAndFacility" package-name="org.ofbiz.product.facility">
        <member-entity entity-alias="FP" entity-name="FacilityParty"></member-entity>
        <member-entity entity-alias="F" entity-name="Facility"></member-entity>
        <alias-all entity-alias="FP" />
        <alias-all entity-alias="F" />
        <view-link entity-alias="FP" rel-entity-alias="F">
            <key-map field-name="facilityId" />
        </view-link>
    </view-entity>

    <!-- Tele & Party View -->
    <view-entity entity-name="TelecomNumberAndPartyView" package-name="com.banfftech.personerp">
        <member-entity entity-alias="PCM" entity-name="PartyContactMech"/>
        <member-entity entity-alias="PCMP" entity-name="PartyContactMechPurpose"/>
        <member-entity entity-alias="CM" entity-name="ContactMech"/>
        <member-entity entity-alias="TN" entity-name="TelecomNumber"/>
        <alias entity-alias="PCM" name="partyId" field="partyId"/>
        <alias entity-alias="PCM" name="fromDate" field="fromDate"/>
        <alias entity-alias="PCM" name="thruDateParty" field="thruDate"/>
        <alias entity-alias="PCMP" name="thruDatePartyPu" field="thruDate"/>
        <alias entity-alias="PCMP" name="contactMechPurposeTypeId" field="contactMechPurposeTypeId"/>
        <alias entity-alias="CM" name="contactMechTypeId" field="contactMechTypeId"/>
        <alias entity-alias="TN" name="contactNumber" field="contactNumber"/>
        <view-link entity-alias="PCM" rel-entity-alias="PCMP">
            <key-map field-name="partyId" rel-field-name="partyId"/>
            <key-map field-name="contactMechId" rel-field-name="contactMechId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="PCM" field-name="thruDate" operator="equals" value=""/>
                    <condition-expr entity-alias="PCMP" field-name="thruDate" operator="equals" value=""/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="PCM" rel-entity-alias="CM">
            <key-map field-name="contactMechId" rel-field-name="contactMechId"/>
        </view-link>
        <view-link entity-alias="PCM" rel-entity-alias="TN">
            <key-map field-name="contactMechId" rel-field-name="contactMechId"/>
        </view-link>
        <entity-condition>
            <order-by field-name="-fromDate"/>
        </entity-condition>
    </view-entity>

    <!--Sms-->
    <entity entity-name="SmsValidateCode" package-name="org.ofbiz.cloudLake.sms" title="短信验证码">
        <description>短信验证码</description>
        <field name="teleNumber" type="id"></field>
        <field name="smsType" type="short-varchar"></field>
        <field name="captcha" type="id"></field>
        <field name="isValid" type="id"></field>
        <field name="fromDate" type="date-time"></field>
        <field name="thruDate" type="date-time"></field>
        <prim-key field="teleNumber"/>
        <prim-key field="captcha"/>
        <prim-key field="fromDate"/>
    </entity>



    <!-- 转发链路头 -->
    <entity entity-name="ShareChain" package-name="org.ofbiz.cloudLake.product" title="转发链头">
        <description>转发链路头</description>
        <field name="partyId"      type="id"></field>
        <field name="workEffortId" type="value"></field>
        <field name="fromDate"     type="date-time"></field>
        <prim-key field="partyId"/>
    </entity>


    <entity entity-name="ProductBizDataType" package-name="org.ofbiz.cloudLake.product" title="产品业务数据类型表">
        <description>产品业务数据类型表</description>
        <field name="bizTypeId"      type="id-ne"></field>
        <field name="description"   type="value"></field>
        <prim-key field="bizTypeId"/>
    </entity>

    <!-- 发生产品业务数据时
        '转发’、'浏览’
        必然创建一条 ,
        产品对人不会重复 -->
    <entity entity-name="ProductBizData" package-name="org.ofbiz.cloudLake.product" title="产品业务数据">
        <description>产品业务数据</description>
        <field name="dataId" type="id"></field>
        <field name="productId"      type="id"></field>
        <field name="ownerPartyId" type="id"></field>

        <!-- 浏览量 -->
        <field name="addresseeCount" type="value"></field>
        <!-- 转发量 -->
        <field name="forwardCount" type="value"></field>
        <!-- 购买量 -->
        <field name="buyCount" type="value"></field>
        <!-- 发生时间 -->
        <field name="fromDate"     type="date-time"></field>

        <prim-key field="dataId"/>
        <prim-key field="productId"/>
        <prim-key field="ownerPartyId"/>
    </entity>


    <!-- 当产品发生业务数据时，必然会有多条明细 、该明细对到详细的当事人 -->
    <entity entity-name="ProductBizDataDetail" package-name="org.ofbiz.cloudLake.product" title="产品业务数据">
        <description>产品业务数据明细表</description>
        <field name="dataId"      type="id"></field>
        <!-- WorkEffort Or OrderId -->
        <field name="objectId" type="id"></field>
        <field name="productId" type="id"></field>
        <field name="partyId" type="id"></field>
        <field name="bizTypeId" type="id"></field>
        <!-- 发生时间 -->
        <field name="fromDate"     type="date-time"></field>
        <relation type="one" fk-name="DATA_FK" rel-entity-name="ProductBizData">
            <key-map field-name="dataId"/>
        </relation>
        <relation type="one" fk-name="BIZ_TYPE_FK" rel-entity-name="ProductBizDataType">
            <key-map field-name="bizTypeId"/>
        </relation>
        <prim-key field="partyId"/>
        <prim-key field="fromDate"/>
        <prim-key field="bizTypeId"/>
        <prim-key field="objectId"/>
    </entity>





    <entity entity-name="ProductImagesTemp" package-name="org.ofbiz.cloudLake.product" title="图片地址临表">
        <description>图片地址临表</description>
        <field name="skuId" type="value"></field>
        <field name="contentType" type="value"></field>
        <field name="path" type="value"></field>
        <prim-key field="skuId"/>
        <prim-key field="contentType"/>
    </entity>

    <!-- 转发信息 -->
    <!--<entity entity-name="ShareRequest" package-name="org.ofbiz.cloudLake.information" title="InformationShare">-->
        <!--<description>Information Share</description>-->
        <!--<field name="shareId" type="id" ></field>           &lt;!&ndash;PK&ndash;&gt;-->
        <!--<field name="shareTypeId" type="id"></field>        &lt;!&ndash; TYPE ID &ndash;&gt;-->
        <!--<field name="objectId" type="id"></field>        &lt;!&ndash; Share Obj Id &ndash;&gt;-->
        <!--<field name="sharePartyIdFrom" type="value"></field>&lt;!&ndash; 转发来自当事人 &ndash;&gt;-->
        <!--<field name="sharePartyIdTo" type="value"></field>  &lt;!&ndash; 转发目标当事人 &ndash;&gt;-->
        <!--<field name="ownerPartyId" type="value"></field>    &lt;!&ndash; 转发对象拥有人 &ndash;&gt;-->
        <!--<field name="infoDesc" type="value"></field>        &lt;!&ndash; description &ndash;&gt;-->
        <!--<field name="fromDate" type="date-time"></field>    &lt;!&ndash; 转发时间 &ndash;&gt;-->

        <!--<prim-key field="shareId"/>-->
        <!--<prim-key field="objectId"/>-->

        <!--<prim-key field="shareTypeId"/>-->

        <!--<relation type="one" rel-entity-name="InformationShareType">-->
            <!--<key-map field-name="shareTypeId"/>-->
        <!--</relation>-->
    <!--</entity>-->

    <!--&lt;!&ndash; 分享类型 &ndash;&gt;-->
    <!--<entity entity-name="ShareType" package-name="org.ofbiz.cloudLake.information" title="ShareType">-->
        <!--<description>Information Share Type</description>-->
        <!--<field name="shareTypeId" type="id"></field>-->
        <!--<field name="description" type="value"></field>-->
        <!--<prim-key field="shareTypeId"/>-->
    <!--</entity>-->


    <!--Message-->
    <entity entity-name="MessageLog" package-name="org.ofbiz.cloudLake.message" title="Message">
        <description>Message</description>
        <field name="messageId" type="id"></field>
        <field name="messageLogTypeId" type="id"></field>
        <!--<field name="objectTypeId" type="id"></field>-->
        <field name="partyIdFrom" type="value"></field>
        <!-- 谈吐围绕者,可能是订单，也可能是别的 -->
        <field name="objectId" type="value"></field>
        <field name="partyIdTo" type="value"></field>
        <field name="message" type="value"></field>
        <field name="fromDate" type="date-time"></field>
        <field name="badge" type="value"></field>
        <!--<prim-key field="objectTypeId"/>-->
        <prim-key field="messageId"/>
        <prim-key field="fromDate"/>
        <prim-key field="messageLogTypeId"/>
        <relation type="one" rel-entity-name="MessageLogType">
            <key-map field-name="messageLogTypeId"/>
        </relation>
    </entity>


    <entity entity-name="MessageLogType" package-name="org.ofbiz.cloudLake.message" title="MessageLogType">
        <description>MessageLogTypeId</description>
        <field name="messageLogTypeId" type="id"></field>
        <field name="description" type="value"></field>
        <prim-key field="messageLogTypeId"/>
    </entity>




    <!-- 小程序店铺配置视图实体 -->
    <view-entity entity-name="PartyStoreAppConfig" package-name="org.ofbiz.cloudLake" title="Apps Configuration..">

        <member-entity entity-name="ProductStore" entity-alias="Store"/>
        <member-entity entity-name="PartyIdentification" entity-alias="Identification" />
        <member-entity entity-name="PartyGroup" entity-alias="PartyGroup" />

        <member-entity entity-name="PartyAttribute" entity-alias="DemoAppStore"/>
        <member-entity entity-name="PartyAttribute" entity-alias="AppStoreServiceType"/>
        <member-entity entity-name="PartyAttribute" entity-alias="AppShoppingCart"/>




        <!-- Group Fields Alias -->
        <alias entity-alias="PartyGroup" name="groupName" field="groupName"/>
        <alias entity-alias="PartyGroup" name="partyId" field="partyId"/>






        <!-- Store Fields Alias -->
        <alias entity-alias="Store" name="productStoreId" field="productStoreId"/>

        <!-- Identification Fields Alias -->
        <alias entity-alias="Identification" name="idValue" field="idValue"/>
        <alias entity-alias="Identification" name="partyIdentificationTypeId" field="partyIdentificationTypeId"/>


        <!--<alias-all entity-alias="DemoAppStore"/>-->
        <!--<alias-all entity-alias="AppStoreServiceType"/>-->
        <!--<alias-all entity-alias="AppShoppingCart"/>-->
        <alias entity-alias="DemoAppStore" name="isDemoStore" field="attrValue"/>
        <alias entity-alias="AppStoreServiceType" name="appServiceType" field="attrValue"/>
        <alias entity-alias="AppShoppingCart" name="hasShoppingCart" field="attrValue"/>

        <view-link entity-alias="PartyGroup" rel-entity-alias="Identification" >
            <key-map field-name="partyId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="PartyGroup" rel-entity-alias="Store" >
            <key-map field-name="partyId" rel-field-name="payToPartyId" />
        </view-link>

        <view-link entity-alias="PartyGroup" rel-entity-alias="DemoAppStore" >
            <key-map field-name="partyId" rel-field-name="partyId" />
            <entity-condition>
                <condition-expr entity-alias="DemoAppStore" field-name="attrName" operator="equals" value="DEMO_STORE"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="PartyGroup" rel-entity-alias="AppStoreServiceType" >
            <key-map field-name="partyId" rel-field-name="partyId" />
            <entity-condition>
                <condition-expr
                        entity-alias="AppStoreServiceType" field-name="attrName" operator="equals" value="SERVICE_TYPE"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="PartyGroup" rel-entity-alias="AppShoppingCart" >
            <key-map field-name="partyId" rel-field-name="partyId" />
            <entity-condition>
                <condition-expr
                        entity-alias="AppShoppingCart" field-name="attrName" operator="equals" value="NEED_SHOPPING_CART"/>
            </entity-condition>
        </view-link>


    </view-entity>

    <!-- 小程序首页内容 对到店 -->
    <view-entity entity-name="ProductStoreHomeJson" package-name="org.ofbiz.cloudLake" title="Apps Configuration..">

    <member-entity entity-name="ProductStore" entity-alias="Store"/>
    <member-entity entity-name="ElectronicText" entity-alias="EleText"/>
    <member-entity entity-name="PartyContent" entity-alias="PContent"/>
    <member-entity entity-name="Content" entity-alias="Content"/>

        <alias-all entity-alias="Store"/>
        <alias-all entity-alias="EleText"/>
        <alias-all entity-alias="PContent"/>
        <alias-all entity-alias="Content"/>

         <view-link entity-alias="Store" rel-entity-alias="PContent">
            <key-map field-name="payToPartyId" rel-field-name="partyId"/>
          </view-link>

        <view-link entity-alias="PContent" rel-entity-alias="Content">
            <key-map field-name="contentId" rel-field-name="contentId"/>
        </view-link>

        <view-link entity-alias="Content" rel-entity-alias="EleText">
            <key-map field-name="dataResourceId" rel-field-name="dataResourceId"/>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="PContent" field-name="partyContentTypeId" operator="equals" value="MINIPROGRAM_HOME"/>
        </entity-condition>
    </view-entity>


</entitymodel>